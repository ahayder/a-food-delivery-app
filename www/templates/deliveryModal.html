<ion-modal-view>
    <ion-header-bar class="bar bar-assertive">
        <h1 class="title">Delivery</h1>
        <a class="button button-icon button-clear ion-ios-cart" href="#/app/cart">${{cartTotal}}</a>
    </ion-header-bar>

    <ion-content class="padding">
    <div class="card list" ng-show='boolAddNewAddress'>
        <div class="item item-divider item-assertive">Add shipping address</div>
            <div class="item item-text-wrap">
                    <form name="myform">
                        <label class="item item-input">
                            <input type="text" ng-model="address.line1" placeholder="Address Line 1" required>
                        </label>
                        <label class="item item-input">
                            <input type="text" ng-model="address.line2" placeholder="Address Line 2" required>
                        </label>
                        <label class="item item-input">
                            <input type="text" ng-model="address.city" placeholder="City" required>
                        </label>
                        <label class="item item-input">
                            <input type="text" ng-model="address.state" placeholder="State" required>
                        </label>
                        <label class="item item-input">
                            <input type="text" ng-model="address.zipcode" placeholder="Zip Code" required>
                        </label>
                         <label class="item item-input">
                            <input type="text" ng-model="address.phone" placeholder="Phone No" required>
                        </label>

                        <div class="button-bar">
                          <a class="button button-small button-assertive button-clear" ng-disabled="myform.$invalid"ng-click="saveAddress(address)">Save</a>
                          <a class="button button-small button-calm button-clear" ng-click="close()">Cancel</a>
                        </div>
                    </form>
            </div>
        </div>

        <div class="card" ng-show="showAddAddress">
            <div class="item item-divider item-assertive">Shipping address</div>
            <div class="item item-text-wrap">
                <h4>{{defaultAdrs.cus_name}}</h4>
                <p>{{defaultAdrs.addrs}}, State: {{defaultAdrs.state}}, Town: {{defaultAdrs.town}}, Zip: {{defaultAdrs.zip_code}}, Phone: {{defaultAdrs.phone}}, Country: {{defaultAdrs.country}}</p>
                <a class="button button-dark button-clear button-small right" ng-click="changeAddress($event)">Change shipping address</a>
                <a class="button button-dark button-clear button-small right" ng-click="addAddressDiv()">Add new address</a>
            </div>
        </div>

        <div class="card" ng-show="showOnlyAddAddress">
            <div class="item item-divider item-assertive">Shipping address</div>
            <div class="item item-text-wrap">
                <a class="button button-dark button-clear button-small right" ng-click="addAddressDiv()">Add new address</a>
            </div>
        </div>

        <div class="card">
            <div class="item item-divider item-assertive">Shipping type- Delivery Charge ${{deliveryCharge}}</div>
            <div class="item item-text-wrap">

            <ion-list>
              <ion-radio ng-model="deliveryType" ng-value="'pickup'" ng-click="setDeliveryCharge(false)">Pickup</ion-radio>
              <ion-radio ng-model="deliveryType" ng-value="'delivery'"ng-click="setDeliveryCharge(true)">Delivery</ion-radio>
            </ion-list>

            </div>
        </div>

        <div class="item item-text-wrap">
           <h2>Delivery Charge ${{deliveryCharge}}</h2>
         </div>

          <label class="item item-input item-select">
            <div class="input-label">
              Tips: ${{cartTotal * percentage.value/100 | number:2}}
            </div>


            <select ng-model="percentage" ng-init="percentage=percentages[0]" ng-options="percentage.value for percentage in percentages"></select>

          </label>

          <div class="item item-text-wra">
            <input type="checkbox" ng-model="termsCondition"> I agree with <a href="#">terms & conditions</a>
          </div>
      <div class="button-bar">
        <a class="button button-assertive button-clear" ng-click="checkout(.01,deliveryType,tips)" ng-disabled='disableCheckOut || !termsCondition'>Checkout</a>
        <a class="button button-calm button-clear" ng-click="closeModal()">Cancel</a>
      </div>


    </ion-content>
</ion-modal-view>
